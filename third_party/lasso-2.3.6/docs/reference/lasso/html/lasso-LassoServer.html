<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LassoServer</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="Lasso Reference Manual">
<link rel="up" href="architecture.html" title="Lasso Architecture">
<link rel="prev" href="architecture.html" title="Lasso Architecture">
<link rel="next" href="lasso-LassoProvider.html" title="LassoProvider">
<meta name="generator" content="GTK-Doc V1.17 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="architecture.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="architecture.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Lasso Reference Manual</th>
<td><a accesskey="n" href="lasso-LassoProvider.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#lasso-LassoServer.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#lasso-LassoServer.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry">
<a name="lasso-LassoServer"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="lasso-LassoServer.top_of_page"></a>LassoServer</span></h2>
<p>LassoServer — Representation of the current server</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="lasso-LassoServer.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">struct              <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer">LassoServer</a>;
<a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="returnvalue">LassoServer</span></a> *       <a class="link" href="lasso-LassoServer.html#lasso-server-new" title="lasso_server_new ()">lasso_server_new</a>                    (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *metadata</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *private_key</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *private_key_password</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *certificate</code></em>);
<a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="returnvalue">LassoServer</span></a> *       <a class="link" href="lasso-LassoServer.html#lasso-server-new-from-buffers" title="lasso_server_new_from_buffers ()">lasso_server_new_from_buffers</a>       (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *metadata</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *private_key_content</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *private_key_password</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *certificate_content</code></em>);
<a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="returnvalue">LassoServer</span></a> *       <a class="link" href="lasso-LassoServer.html#lasso-server-new-from-dump" title="lasso_server_new_from_dump ()">lasso_server_new_from_dump</a>          (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *dump</code></em>);
<span class="returnvalue">lasso_error_t</span>       <a class="link" href="lasso-LassoServer.html#lasso-server-add-provider" title="lasso_server_add_provider ()">lasso_server_add_provider</a>           (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code><a class="link" href="lasso-LassoProvider.html#LassoProviderRole" title="enum LassoProviderRole"><span class="type">LassoProviderRole</span></a> role</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *metadata</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *public_key</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *ca_cert_chain</code></em>);
<span class="returnvalue">lasso_error_t</span>       <a class="link" href="lasso-LassoServer.html#lasso-server-add-provider-from-buffer" title="lasso_server_add_provider_from_buffer ()">lasso_server_add_provider_from_buffer</a>
                                                        (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code><a class="link" href="lasso-LassoProvider.html#LassoProviderRole" title="enum LassoProviderRole"><span class="type">LassoProviderRole</span></a> role</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *metadata</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *public_key</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *ca_cert_chain</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="lasso-LassoServer.html#lasso-server-destroy" title="lasso_server_destroy ()">lasso_server_destroy</a>                (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             <a class="link" href="lasso-LassoServer.html#lasso-server-dump" title="lasso_server_dump ()">lasso_server_dump</a>                   (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>);
<a class="link" href="lasso-LassoProvider.html#LassoProvider" title="struct LassoProvider"><span class="returnvalue">LassoProvider</span></a> *     <a class="link" href="lasso-LassoServer.html#lasso-server-get-provider" title="lasso_server_get_provider ()">lasso_server_get_provider</a>           (<em class="parameter"><code>const <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *providerID</code></em>);
<span class="returnvalue">lasso_error_t</span>       <a class="link" href="lasso-LassoServer.html#lasso-server-set-encryption-private-key" title="lasso_server_set_encryption_private_key ()">lasso_server_set_encryption_private_key</a>
                                                        (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *filename_or_buffer</code></em>);
<span class="returnvalue">lasso_error_t</span>       <a class="link" href="lasso-LassoServer.html#lasso-server-set-encryption-private-key-with-password" title="lasso_server_set_encryption_private_key_with_password ()">lasso_server_set_encryption_private_key_with_password</a>
                                                        (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *filename_or_buffer</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *password</code></em>);
<span class="returnvalue">lasso_error_t</span>       <a class="link" href="lasso-LassoServer.html#lasso-server-load-affiliation" title="lasso_server_load_affiliation ()">lasso_server_load_affiliation</a>       (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *filename</code></em>);
<span class="returnvalue">lasso_error_t</span>       <a class="link" href="lasso-LassoServer.html#lasso-server-saml2-assertion-setup-signature" title="lasso_server_saml2_assertion_setup_signature ()">lasso_server_saml2_assertion_setup_signature</a>
                                                        (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code><a class="link" href="lasso-LassoSaml2Assertion.html#LassoSaml2Assertion" title="struct LassoSaml2Assertion"><span class="type">LassoSaml2Assertion</span></a> *saml2_assertion</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="lasso-LassoServer.description"></a><h2>Description</h2>
<p>
It holds the data about a provider, other providers it knows, which
certificates to use, etc.
</p>
</div>
<div class="refsect1">
<a name="lasso-LassoServer.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="LassoServer"></a><h3>struct LassoServer</h3>
<pre class="programlisting">struct LassoServer {
	LassoProvider parent;

	GHashTable *providers; /* of LassoProvider */
	/* Can actually contain LassoDataService or LassoIdWsf2DataService or any subclass */

	gchar *private_key;
	gchar *private_key_password;
	gchar *certificate;
	LassoSignatureMethod signature_method;
};
</pre>
</div>
<hr>
<div class="refsect2">
<a name="lasso-server-new"></a><h3>lasso_server_new ()</h3>
<pre class="programlisting"><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="returnvalue">LassoServer</span></a> *       lasso_server_new                    (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *metadata</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *private_key</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *private_key_password</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *certificate</code></em>);</pre>
<p>
Creates a new <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>metadata</code></em> :</span></p></td>
<td>path to the provider metadata file or NULL, for a LECP server</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>private_key:(allow-none)</code></em> :</span></p></td>
<td>path to the the server private key file or NULL</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>private_key_password:(allow-none)</code></em> :</span></p></td>
<td>password to private key if it is encrypted, or NULL</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>certificate:(allow-none)</code></em> :</span></p></td>
<td>path to the server certificate file, or NULL</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a newly created <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> object; or NULL if an error
occured</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="lasso-server-new-from-buffers"></a><h3>lasso_server_new_from_buffers ()</h3>
<pre class="programlisting"><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="returnvalue">LassoServer</span></a> *       lasso_server_new_from_buffers       (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *metadata</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *private_key_content</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *private_key_password</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *certificate_content</code></em>);</pre>
<p>
Creates a new <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>metadata</code></em> :</span></p></td>
<td>NULL terminated string containing the content of an ID-FF 1.2 metadata file</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>private_key_content:(allow-none)</code></em> :</span></p></td>
<td>NULL terminated string containing a PEM formatted private key</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>private_key_password:(allow-none)</code></em> :</span></p></td>
<td>a NULL terminated string which is the optional password of
the private key</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>certificate_content:(allow-none)</code></em> :</span></p></td>
<td>NULL terminated string containing a PEM formatted X509
certificate</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a newly created <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> object; or NULL if an error occured</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="lasso-server-new-from-dump"></a><h3>lasso_server_new_from_dump ()</h3>
<pre class="programlisting"><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="returnvalue">LassoServer</span></a> *       lasso_server_new_from_dump          (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *dump</code></em>);</pre>
<p>
Restores the <em class="parameter"><code>dump</code></em> to a new <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>dump</code></em> :</span></p></td>
<td>XML server dump</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a newly created <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a>; or NULL if an error occured</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="lasso-server-add-provider"></a><h3>lasso_server_add_provider ()</h3>
<pre class="programlisting"><span class="returnvalue">lasso_error_t</span>       lasso_server_add_provider           (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code><a class="link" href="lasso-LassoProvider.html#LassoProviderRole" title="enum LassoProviderRole"><span class="type">LassoProviderRole</span></a> role</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *metadata</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *public_key</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *ca_cert_chain</code></em>);</pre>
<p>
Creates a new <a class="link" href="lasso-LassoProvider.html#LassoProvider" title="struct LassoProvider"><span class="type">LassoProvider</span></a> and makes it known to the <em class="parameter"><code>server</code></em>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>server</code></em> :</span></p></td>
<td>a <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>role</code></em> :</span></p></td>
<td>provider role, identity provider or service provider</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>metadata</code></em> :</span></p></td>
<td>path to the provider metadata file</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>public_key:(allow-none)</code></em> :</span></p></td>
<td>provider public key file (may be a certificate) or NULL</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>ca_cert_chain:(allow-none)</code></em> :</span></p></td>
<td>provider CA certificate chain file or NULL</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success; a negative value if an error occured.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="lasso-server-add-provider-from-buffer"></a><h3>lasso_server_add_provider_from_buffer ()</h3>
<pre class="programlisting"><span class="returnvalue">lasso_error_t</span>       lasso_server_add_provider_from_buffer
                                                        (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code><a class="link" href="lasso-LassoProvider.html#LassoProviderRole" title="enum LassoProviderRole"><span class="type">LassoProviderRole</span></a> role</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *metadata</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *public_key</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *ca_cert_chain</code></em>);</pre>
<p>
Creates a new <a class="link" href="lasso-LassoProvider.html#LassoProvider" title="struct LassoProvider"><span class="type">LassoProvider</span></a> and makes it known to the <em class="parameter"><code>server</code></em>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>server</code></em> :</span></p></td>
<td>a <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>role</code></em> :</span></p></td>
<td>provider role, identity provider or service provider</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>metadata</code></em> :</span></p></td>
<td>a string buffer containg the metadata file for a new provider</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>public_key:(allow-none)</code></em> :</span></p></td>
<td>provider public key file (may be a certificate) or NULL</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>ca_cert_chain:(allow-none)</code></em> :</span></p></td>
<td>provider CA certificate chain file or NULL</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success; a negative value if an error occured.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="lasso-server-destroy"></a><h3>lasso_server_destroy ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                lasso_server_destroy                (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>);</pre>
<p>
Destroys a server.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>server</code></em> :</span></p></td>
<td>a <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a>
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="lasso-server-dump"></a><h3>lasso_server_dump ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             lasso_server_dump                   (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>);</pre>
<p>
Dumps <em class="parameter"><code>server</code></em> content to an XML string.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>server</code></em> :</span></p></td>
<td>a <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the dump string.  It must be freed by the caller. <span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="lasso-server-get-provider"></a><h3>lasso_server_get_provider ()</h3>
<pre class="programlisting"><a class="link" href="lasso-LassoProvider.html#LassoProvider" title="struct LassoProvider"><span class="returnvalue">LassoProvider</span></a> *     lasso_server_get_provider           (<em class="parameter"><code>const <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *providerID</code></em>);</pre>
<p>
Looks up for a <a class="link" href="lasso-LassoProvider.html#LassoProvider" title="struct LassoProvider"><span class="type">LassoProvider</span></a> whose ID is <em class="parameter"><code>providerID</code></em> and returns it.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>server</code></em> :</span></p></td>
<td>a <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>providerID</code></em> :</span></p></td>
<td>the provider ID</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the <a class="link" href="lasso-LassoProvider.html#LassoProvider" title="struct LassoProvider"><span class="type">LassoProvider</span></a>, NULL if it was not found.  The
<a class="link" href="lasso-LassoProvider.html#LassoProvider" title="struct LassoProvider"><span class="type">LassoProvider</span></a> is owned by Lasso and should not be freed. <span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="lasso-server-set-encryption-private-key"></a><h3>lasso_server_set_encryption_private_key ()</h3>
<pre class="programlisting"><span class="returnvalue">lasso_error_t</span>       lasso_server_set_encryption_private_key
                                                        (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *filename_or_buffer</code></em>);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">lasso_server_set_encryption_private_key</code> has been deprecated since version 2.3 and should not be used in newly-written code. Use <a class="link" href="lasso-LassoServer.html#lasso-server-set-encryption-private-key-with-password" title="lasso_server_set_encryption_private_key_with_password ()"><code class="function">lasso_server_set_encryption_private_key_with_password()</code></a> instead.</p>
</div>
<p>
Load an encryption private key from a file and set it in the server object
</p>
<p>
If <em class="parameter"><code>filename_or_buffer</code></em> is NULL, it frees the currently setted key.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>server</code></em> :</span></p></td>
<td>a <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>filename_or_buffer:(allow-none)</code></em> :</span></p></td>
<td>file name of the encryption key to load or its content as a
NULL-terminated string.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success; another value if an error occured.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="lasso-server-set-encryption-private-key-with-password"></a><h3>lasso_server_set_encryption_private_key_with_password ()</h3>
<pre class="programlisting"><span class="returnvalue">lasso_error_t</span>       lasso_server_set_encryption_private_key_with_password
                                                        (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *filename_or_buffer</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *password</code></em>);</pre>
<p>
Load an encryption private key from a file and set it in the server object. If <em class="parameter"><code>password</code></em> is
non-NULL try to decrypt the key with it.
</p>
<p>
If <em class="parameter"><code>filename_or_buffer</code></em> is NULL, it frees the currently setted key.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>server</code></em> :</span></p></td>
<td>a <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>filename_or_buffer:(allow-none)</code></em> :</span></p></td>
<td>file name of the encryption key to load or its content as a
NULL-terminated string.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>password:(allow-none)</code></em> :</span></p></td>
<td>an optional password to decrypt the encryption key.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success; another value if an error occured.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 2.3</p>
</div>
<hr>
<div class="refsect2">
<a name="lasso-server-load-affiliation"></a><h3>lasso_server_load_affiliation ()</h3>
<pre class="programlisting"><span class="returnvalue">lasso_error_t</span>       lasso_server_load_affiliation       (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *filename</code></em>);</pre>
<p>
Load an affiliation metadata file into <em class="parameter"><code>server</code></em>; this must be called after
providers have been added to <em class="parameter"><code>server</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>server</code></em> :</span></p></td>
<td>a <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>filename</code></em> :</span></p></td>
<td>file name of the affiliation metadata to load</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 on success; another value if an error occured.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="lasso-server-saml2-assertion-setup-signature"></a><h3>lasso_server_saml2_assertion_setup_signature ()</h3>
<pre class="programlisting"><span class="returnvalue">lasso_error_t</span>       lasso_server_saml2_assertion_setup_signature
                                                        (<em class="parameter"><code><a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> *server</code></em>,
                                                         <em class="parameter"><code><a class="link" href="lasso-LassoSaml2Assertion.html#LassoSaml2Assertion" title="struct LassoSaml2Assertion"><span class="type">LassoSaml2Assertion</span></a> *saml2_assertion</code></em>);</pre>
<p>
Configure signature on a saml2:Assertion element.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>server</code></em> :</span></p></td>
<td>a <a class="link" href="lasso-LassoServer.html#LassoServer" title="struct LassoServer"><span class="type">LassoServer</span></a> object</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>saml2_assertion</code></em> :</span></p></td>
<td>a <a class="link" href="lasso-LassoSaml2Assertion.html#LassoSaml2Assertion" title="struct LassoSaml2Assertion"><span class="type">LassoSaml2Assertion</span></a> object</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>0 if successfull, an error code otherwise.</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.17</div>
</body>
</html>